<div class="form-container">
  <div class="form-card">
    <div class="form-header">
      <h2>Chamado Personalizado</h2>
      <p>Descreva sua solicita de forma detalhada</p>
    </div>

    <form class="form-content">
      <div class="form-group">
        <label for="titulo">Título *</label>
        <input 
          id="titulo"
          type="text" 
          [(ngModel)]="titulo"
          name="titulo"
          placeholder="Resuma sua solicita\u00e7\u00e3o em poucas palavras"
          class="form-input"
          required
        />
      </div>

      <div class="form-group">
        <label for="descricao">Descrição Detalhada *</label>
        <textarea 
          id="descricao"
          [(ngModel)]="descricao"
          name="descricao"
          placeholder="Descreva detalhadamente sua solicitação, incluindo informações relevantes que possam ajudar no atendimento"
          class="form-textarea"
          rows="6"
          required
        ></textarea>
      </div>

      <div class="form-group">
        <label>Anexos (máximo 3 arquivos)</label>
        <div class="file-upload">
          <input 
            type="file" 
            id="file-input"
            (change)="onFileChange($event)"
            multiple
            [disabled]="anexos().length >= 3"
            class="file-input"
          />
          <label for="file-input" class="file-label" [class.disabled]="anexos().length >= 3">
            <span class="file-icon"></span>
            <span>Selecionar arquivos</span>
          </label>
        </div>

        @if (anexos().length > 0) {
          <div class="file-list">
            @for (file of anexos(); track $index) {
              <div class="file-item">
                <span class="file-name">{{ file.name }}</span>
                <button type="button" (click)="removerAnexo($index)" class="btn-remove">\u2715</button>
              </div>
            }
          </div>
        }
      </div>

      <div class="form-actions">
        <button type="button" (click)="cancelar()" class="btn btn-secondary">Cancelar</button>
        <button type="button" (click)="enviar()" class="btn btn-primary">Enviar Solicitação</button>
      </div>
    </form>
  </div>
</div>
